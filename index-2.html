<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Real Estate AI</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <style>
      :root {
        --primary-teal: #0d9488;
        --secondary-coral: #f87171;
        --accent-gold: #fef08a;
        --neutral-bg: #fafafa;
        --card-bg: #ffffff;
        --text-dark: #1f2937;
        --text-light: #6b7280;
        --border-gray: #e5e7eb;
        --shadow-light: rgba(0, 0, 0, 0.1);
      }

      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }

      body {
        font-family: "Roboto", sans-serif;
        background-color: var(--neutral-bg);
        color: var(--text-dark);
        line-height: 1.6;
        text-align: center;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
      }

      header {
        background: linear-gradient(135deg, var(--primary-teal), #0891b2);
        color: #ffffff;
        padding: 60px 20px;
        border-radius: 8px;
        margin-bottom: 40px;
        position: relative;
        overflow: hidden;
        height: 600px;
      }

      header::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none"><path d="M0,0 L100,0 L100,100 Z" fill="rgba(255,255,255,0.1)"/></svg>');
        background-size: cover;
        opacity: 0.2;
      }

      header h1 {
        font-size: 3rem;
        font-weight: 700;
        margin-bottom: 15px;
        position: relative;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
      }

      header p {
        font-size: 1.2rem;
        max-width: 700px;
        margin: 0 auto 30px;
        position: relative;
      }

      /* SEARCH BAR STYLES */
      .search-container {
        max-width: 700px;
        margin: 0 auto 30px;
        position: relative;
      }

      .search-box {
        display: flex;
        background: white;
        border-radius: 60px;
        overflow: hidden;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
      }

      .search-box input {
        flex: 1;
        border: none;
        padding: 18px 25px;
        font-size: 1.1rem;
        outline: none;
        background: rgba(255, 255, 255, 0.9);
      }

      .search-results-container {
        position: absolute; /* Or 'fixed' for full-screen overlay */
        z-index: 1000; /* Higher than features section */
        width: 100%;
        background: white; /* Opaque background */
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Visual separation */
        max-height: 70vh; /* Limit height */
        overflow-y: auto; /* Enable scrolling */
      }

      body.search-active {
        overflow: hidden;
      }

      .search-btn {
        width: 70px;
        background: var(--primary-teal);
        color: white;
        border: none;
        font-size: 1.2rem;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .search-btn:hover {
        background: #0f766e;
      }
      /* END SEARCH BAR STYLES */

      .nav {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin-bottom: 20px;
        flex-wrap: wrap;
        position: relative;
      }

      .nav a {
        color: white;
        text-decoration: none;
        font-weight: 600;
        font-size: 1.1rem;
        padding: 12px 24px;
        border-radius: 30px;
        transition: all 0.3s ease;
        background: rgba(255, 255, 255, 0.15);
        backdrop-filter: blur(5px);
        border: 1px solid rgba(255, 255, 255, 0.2);
      }

      .nav a:hover {
        background: rgba(255, 255, 255, 0.3);
        transform: translateY(-3px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      }

      .auth {
        display: flex;
        justify-content: center;
        gap: 16px;
        margin-top: 20px;
        position: relative;
      }

      .auth a {
        padding: 12px 30px;
        background-color: var(--accent-gold);
        color: var(--text-dark);
        text-decoration: none;
        border-radius: 30px;
        font-weight: 600;
        font-size: 1.1rem;
        transition: all 0.3s ease;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        display: inline-flex;
        align-items: center;
        gap: 8px;
      }

      .auth a:hover {
        background-color: #facc15;
        transform: translateY(-3px);
        box-shadow: 0 6px 15px rgba(0, 0, 0, 0.15);
      }

      .features {
        margin: 60px 0;
      }

      .section-title {
        font-size: 2.5rem;
        color: var(--primary-teal);
        margin-bottom: 40px;
        position: relative;
        display: inline-block;
      }

      .section-title::after {
        content: "";
        position: absolute;
        bottom: -10px;
        left: 50%;
        transform: translateX(-50%);
        width: 80px;
        height: 4px;
        background: var(--accent-gold);
        border-radius: 2px;
      }

      .features-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
        gap: 30px;
        margin-top: 20px;
      }

      .feature-card {
        background: var(--card-bg);
        padding: 30px 20px;
        border-radius: 15px;
        box-shadow: 0 5px 20px var(--shadow-light);
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
      }

      .feature-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 12px 25px rgba(0, 0, 0, 0.15);
      }

      .feature-icon {
        width: 80px;
        height: 80px;
        background: rgba(13, 148, 136, 0.1);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 20px;
        font-size: 2rem;
        color: var(--primary-teal);
      }

      .feature-card h3 {
        font-size: 1.7rem;
        font-weight: 600;
        color: var(--primary-teal);
        margin-bottom: 15px;
      }

      .feature-card p {
        font-size: 1.1rem;
        color: var(--text-light);
        margin-bottom: 20px;
        min-height: 80px;
      }

      .feature-card button {
        padding: 12px 25px;
        background-color: var(--primary-teal);
        color: white;
        border: none;
        border-radius: 30px;
        cursor: pointer;
        font-size: 1rem;
        font-weight: 500;
        transition: all 0.3s ease;
      }

      .feature-card button:hover {
        background-color: #0f766e;
        transform: scale(1.05);
      }

      /* Property Sections */
      .property-section {
        margin: 70px 0;
        padding: 30px 0;
      }

      .section-subtitle {
        font-size: 1.5rem;
        color: var(--text-light);
        margin-top: 10px;
        font-weight: 400;
      }

      .property-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
        gap: 30px;
        margin-top: 40px;
      }

      .property-card {
        background: var(--card-bg);
        border-radius: 15px;
        overflow: hidden;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
        position: relative;
      }

      .property-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
      }

      .property-image {
        height: 220px;
        position: relative;
        overflow: hidden;
      }

      .property-image img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
      }

      .favorite-btn {
        position: absolute;
        top: 15px;
        right: 15px;
        width: 40px;
        height: 40px;
        background: rgba(255, 255, 255, 0.9);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        border: none;
        color: var(--secondary-coral);
        font-size: 1.2rem;
        transition: all 0.3s ease;
        z-index: 10;
      }

      .favorite-btn:hover {
        background: white;
        transform: scale(1.1);
      }

      .favorite-btn.active {
        color: var(--secondary-coral);
      }

      .property-badge {
        position: absolute;
        top: 15px;
        left: 15px;
        background: var(--accent-gold);
        color: #854d0e;
        padding: 5px 15px;
        border-radius: 20px;
        font-size: 0.9rem;
        font-weight: 600;
        z-index: 10;
      }

      .property-details {
        padding: 20px;
      }

      .property-details h3 {
        font-size: 1.4rem;
        margin-bottom: 10px;
        color: var(--text-dark);
      }

      .property-price {
        font-size: 1.6rem;
        font-weight: 700;
        color: var(--primary-teal);
        margin-bottom: 15px;
      }

      .property-meta {
        display: flex;
        justify-content: center;
        gap: 15px;
        margin-bottom: 15px;
        color: var(--text-light);
        font-size: 0.95rem;
        flex-wrap: wrap;
      }

      .property-meta span {
        display: flex;
        align-items: center;
      }

      .property-meta i {
        margin-right: 5px;
        color: var(--primary-teal);
      }

      .property-location {
        color: var(--text-light);
        margin-bottom: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 5px;
      }

      .view-btn {
        width: 100%;
        padding: 12px;
        background: var(--primary-teal);
        color: white;
        border: none;
        border-radius: 8px;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .view-btn:hover {
        background: #0f766e;
        transform: translateY(-2px);
      }

      #searchResultsContainer {
        position: absolute; /* Positioning it above other content */
        top: 100%; /* Adjust this to position it correctly */
        left: 0;
        width: 100%;
        background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
        border-radius: 0 0 20px 20px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15),
          0 0 0 1px rgba(0, 0, 0, 0.05);
        z-index: 1000; /* Ensure it's on top */
        overflow: hidden;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        animation: slideDown 0.3s ease-out;
        max-height: 300px;
        overflow-y: auto;
        padding: 10px;
      }

      .results-header {
        display: flex;
        justify-content: space-between;
        padding: 15px;
        border-bottom: 1px solid #eee;
      }

      #searchResults {
        display: grid;
        gap: 15px;
        overflow-y: auto;
      }

      .property-card.mini-card {
        display: flex;
        padding: 10px;
        border: 1px solid #eee;
        border-radius: 8px;
        background-color: #fff;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
      }

      .property-card.mini-card img {
        width: 100px;
        height: 80px;
        object-fit: cover;
        border-radius: 5px;
      }

      .mini-card img {
        width: 100px;
        height: 80px;
        object-fit: cover;
        border-radius: 5px;
      }

      .mini-details {
        padding-left: 15px;
      }

      .mini-details h4 {
        margin: 0 0 5px 0;
        font-size: 1.1rem;
      }

      .mini-details p {
        margin: 3px 0;
        font-size: 0.9rem;
        color: var(--text-light);
      }

      #premiumOffer {
        padding: 20px;
        background: linear-gradient(135deg, #fef3c7, #fef08a);
        border-radius: 15px;
        margin-top: 20px;
        position: relative;
        display: none; /* Hidden by default */
        text-align: center; /* Center the text */
      }

      #premiumOffer p {
        margin: 0 0 15px 0;
        font-size: 1.1rem;
        color: #92400e;
        font-weight: 500;
      }

      .premium-btn {
        background: linear-gradient(135deg, var(--accent-gold), #fbbf24);
        color: #92400e;
        padding: 12px 30px;
        border: none;
        border-radius: 25px;
        margin: 0;
        cursor: pointer;
        font-weight: 700;
        font-size: 1rem;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(245, 158, 11, 0.3);
        position: relative;
      }

      .premium-btn::before {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(255, 255, 255, 0.3),
          transparent
        );
        transition: left 0.5s ease;
      }

      .premium-btn:hover::before {
        left: 100%;
      }

      .premium-btn:hover {
        background: linear-gradient(135deg, #fbbf24, #f59e0b);
        transform: translateY(-3px);
        box-shadow: 0 6px 20px rgba(245, 158, 11, 0.4);
      }

      .secondary-btn {
        background: linear-gradient(135deg, #f0f0f0, #e2e8f0);
        padding: 10px 20px;
        margin: 10px auto;
        display: block;
        border-radius: 30px;
        cursor: pointer;
      }

      #closeResults {
        background-color: #ffffff; /* Solid white background for visibility */
        border: 2px solid #ddd; /* Light border to make the button stand out */
        color: #333; /* Dark text color for the '×' symbol */
        width: 35px;
        height: 35px;
        border-radius: 50%; /* Circular shape */
        cursor: pointer;
        font-size: 1.5rem; /* Larger font size for better visibility */
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.3s ease;
        position: absolute;
        top: 10px;
        right: 10px;
        z-index: 105;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3); /* Add a shadow to make it stand out */
      }

      #closeResults:hover {
        background-color: #f1f1f1; /* Lighter background color on hover */
        transform: scale(1.1); /* Slight zoom effect on hover */
      }

      #closeResults:focus {
        outline: none; /* Remove default focus outline */
        background-color: #e0e0e0; /* Slightly darker background color on focus */
        box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.5); /* Add a focus outline for accessibility */
      }

      #closeResults:active {
        background-color: #d0d0d0; /* Darker color when clicked */
      }

      .premium-btn {
        background: var(--accent-gold);
        color: #000;
        padding: 10px 20px;
        border: none;
        border-radius: 30px;
        margin: 10px auto;
        display: block;
        cursor: pointer;
        font-weight: bold;
      }

      /* Modal styles */
      .modal {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 1000;
      }

      .modal-content {
        background: white;
        padding: 30px;
        border-radius: 10px;
        width: 90%;
        max-width: 500px;
        position: relative;
      }

      .close-modal {
        position: absolute;
        top: 15px;
        right: 15px;
        font-size: 1.5rem;
        cursor: pointer;
      }

      .subscribe-btn {
        background: var(--primary-teal);
        color: white;
        padding: 12px 25px;
        border: none;
        border-radius: 30px;
        margin-top: 20px;
        cursor: pointer;
        width: 100%;
      }

      /* Footer */
      footer {
        background: var(--primary-teal);
        color: white;
        padding: 40px 0;
        margin-top: 80px;
        border-radius: 8px;
      }

      .footer-content {
        max-width: 800px;
        margin: 0 auto;
      }

      .footer-logo {
        font-size: 2rem;
        font-weight: 700;
        margin-bottom: 20px;
        display: inline-block;
      }

      .footer-links {
        display: flex;
        justify-content: center;
        gap: 30px;
        margin: 30px 0;
        flex-wrap: wrap;
      }

      .footer-links a {
        color: white;
        text-decoration: none;
        transition: opacity 0.3s ease;
      }

      .footer-links a:hover {
        opacity: 0.8;
      }

      .copyright {
        margin-top: 20px;
        font-size: 0.9rem;
        opacity: 0.8;
      }

      @media (max-width: 768px) {
        #searchResultsContainer {
          max-height: 50vh; /* Slightly smaller on mobile */
          top: calc(100% + 5px); /* Small gap on mobile */
        }

        header h1 {
          font-size: 2.2rem;
        }

        .section-title {
          font-size: 2rem;
        }

        .property-grid,
        .features-grid {
          grid-template-columns: 1fr;
        }

        .nav {
          flex-direction: column;
          align-items: center;
        }

        .nav a {
          width: 80%;
          text-align: center;
        }

        /* Mobile search bar */
        .search-container {
          max-width: 90%;
        }

        .search-box input {
          padding: 15px 20px;
          font-size: 1rem;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <header>
        <h1>Welcome to Real Estate AI</h1>
        <p>Your trusted partner for intelligent property solutions</p>

        <!-- Search Bar -->
        <div class="search-container">
          <div class="search-box">
            <input
              type="text"
              id="searchInput"
              placeholder="Search by size (e.g., '2000 sqft'), location, or features..."
            />
            <button class="search-btn" id="searchBtn">
              <i class="fas fa-search"></i>
            </button>
          </div>

          <!-- This is the search results container that shows the results -->
          <div id="searchResultsContainer" style="display: none">
            <div class="results-header">
              <h3>Top Results</h3>
              <button id="closeResults">×</button>
            </div>
            <div id="searchResults"></div>

            <!-- Show More Results Button -->
            <div class="results-footer">
              <button id="showMoreResults" class="secondary-btn">
                Show More Results
              </button>

              <!-- This is the section that appears if fewer than 3 results are found -->
              <div id="premiumOffer" style="display: none">
                <p>Not finding what you need?</p>
                <button class="premium-btn">Try Premium Search</button>
              </div>
            </div>
          </div>
        </div>

        <!-- Premium Modal -->
        <div id="premiumModal" class="modal" style="display: none">
          <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h3>Premium Search Benefits</h3>
            <ul>
              <li>Access to 50% more listings</li>
              <li>Advanced filters (school districts, commute times)</li>
              <li>AI-powered personalized recommendations</li>
              <li>Priority customer support</li>
            </ul>
            <button class="subscribe-btn">Subscribe Now</button>
          </div>
        </div>

        <!-- Navbar Links -->
        <div class="nav">
          <a href="index.html">Home</a>
          <a href="properties.html">Properties</a>
          <a href="about.html">About</a>
          <a href="contact.html">Contact</a>
        </div>

        <div class="auth">
          <a href="signin.html"><i class="fas fa-sign-in-alt"></i> Sign In</a>
          <a href="register.html"><i class="fas fa-user-plus"></i> Register</a>
        </div>
      </header>

      <!-- Features Section -->
      <section class="features">
        <h2 class="section-title">Our Features</h2>
        <div class="features-grid">
          <div class="feature-card">
            <div class="feature-icon">
              <i class="fas fa-home"></i>
            </div>
            <h3>Find Your Dream Home</h3>
            <p>
              Browse a wide selection of properties that suit your needs and
              preferences.
            </p>
            <button>Explore Now</button>
          </div>

          <div class="feature-card">
            <div class="feature-icon">
              <i class="fas fa-tag"></i>
            </div>
            <h3>Sell Your Property</h3>
            <p>
              Let us help you connect with potential buyers through our
              platform.
            </p>
            <button>List Your Property</button>
          </div>

          <div class="feature-card">
            <div class="feature-icon">
              <i class="fas fa-robot"></i>
            </div>
            <h3>AI-Powered Tools</h3>
            <p>
              Utilize cutting-edge AI tools for property valuation, analysis,
              and predictions.
            </p>
            <button>Learn More</button>
          </div>

          <div class="feature-card">
            <div class="feature-icon">
              <i class="fas fa-chart-line"></i>
            </div>
            <h3>Track Transactions</h3>
            <p>
              Keep track of your property transactions and leads effortlessly.
            </p>
            <button>Get Started</button>
          </div>
        </div>
      </section>

      <!-- Top Properties Section -->
      <section class="property-section">
        <h2 class="section-title">Top Properties</h2>
        <p class="section-subtitle">Most popular listings this month</p>

        <div class="property-grid">
          <!-- Property 1 -->
          <div class="property-card">
            <div class="property-image">
              <img
                src="https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3"
                alt="Modern Luxury Villa"
              />
              <button class="favorite-btn"><i class="far fa-heart"></i></button>
              <div class="property-badge">Featured</div>
            </div>
            <div class="property-details">
              <h3>Modern Luxury Villa</h3>
              <div class="property-price">$1,250,000</div>
              <div class="property-meta">
                <span><i class="fas fa-bed"></i> 4 Beds</span>
                <span><i class="fas fa-bath"></i> 3 Baths</span>
                <span><i class="fas fa-ruler-combined"></i> 3,200 sqft</span>
              </div>
              <div class="property-location">
                <i class="fas fa-map-marker-alt"></i> Miami, FL
              </div>
              <button class="view-btn">View Details</button>
            </div>
          </div>

          <!-- Property 2 -->
          <div class="property-card">
            <div class="property-image">
              <img
                src="https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3"
                alt="Downtown Penthouse"
              />
              <button class="favorite-btn"><i class="far fa-heart"></i></button>
              <div class="property-badge">New</div>
            </div>
            <div class="property-details">
              <h3>Downtown Penthouse</h3>
              <div class="property-price">$850,000</div>
              <div class="property-meta">
                <span><i class="fas fa-bed"></i> 3 Beds</span>
                <span><i class="fas fa-bath"></i> 2.5 Baths</span>
                <span><i class="fas fa-ruler-combined"></i> 1,800 sqft</span>
              </div>
              <div class="property-location">
                <i class="fas fa-map-marker-alt"></i> New York, NY
              </div>
              <button class="view-btn">View Details</button>
            </div>
          </div>

          <!-- Property 3 -->
          <div class="property-card">
            <div class="property-image">
              <img
                src="https://images.unsplash.com/photo-1602724519732-4647ee581735?w=400&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTl8fHN1YnVyYmFuJTIwZmFtaWx5JTIwaG9tZXxlbnwwfHwwfHx8MA%3D%3D"
                alt="Suburban Family Home"
              />
              <button class="favorite-btn active">
                <i class="fas fa-heart"></i>
              </button>
            </div>
            <div class="property-details">
              <h3>Suburban Family Home</h3>
              <div class="property-price">$675,000</div>
              <div class="property-meta">
                <span><i class="fas fa-bed"></i> 4 Beds</span>
                <span><i class="fas fa-bath"></i> 3 Baths</span>
                <span><i class="fas fa-ruler-combined"></i> 2,400 sqft</span>
              </div>
              <div class="property-location">
                <i class="fas fa-map-marker-alt"></i> Austin, TX
              </div>
              <button class="view-btn">View Details</button>
            </div>
          </div>
        </div>
      </section>

      <!-- Agent's Top Choice Section -->
      <section class="property-section">
        <h2 class="section-title">Agent's Top Choice</h2>
        <p class="section-subtitle">Recommended by our professional agents</p>

        <div class="property-grid">
          <!-- Property 1 -->
          <div class="property-card">
            <div class="property-image">
              <img
                src="https://images.unsplash.com/photo-1613490493576-7fde63acd811?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3"
                alt="Waterfront Estate"
              />
              <button class="favorite-btn"><i class="far fa-heart"></i></button>
              <div class="property-badge">Hot Deal</div>
            </div>
            <div class="property-details">
              <h3>Waterfront Estate</h3>
              <div class="property-price">$2,350,000</div>
              <div class="property-meta">
                <span><i class="fas fa-bed"></i> 5 Beds</span>
                <span><i class="fas fa-bath"></i> 4.5 Baths</span>
                <span><i class="fas fa-ruler-combined"></i> 4,500 sqft</span>
              </div>
              <div class="property-location">
                <i class="fas fa-map-marker-alt"></i> Malibu, CA
              </div>
              <button class="view-btn">View Details</button>
            </div>
          </div>

          <!-- Property 2 -->
          <div class="property-card">
            <div class="property-image">
              <img
                src="https://images.unsplash.com/photo-1582268611958-ebfd161ef9cf?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3"
                alt="Urban Apartment Complex"
              />
              <button class="favorite-btn active">
                <i class="fas fa-heart"></i>
              </button>
              <div class="property-badge">Investment</div>
            </div>
            <div class="property-details">
              <h3>Urban Apartment Complex</h3>
              <div class="property-price">$3,800,000</div>
              <div class="property-meta">
                <span><i class="fas fa-building"></i> 12 Units</span>
                <span><i class="fas fa-chart-line"></i> 7.8% ROI</span>
              </div>
              <div class="property-location">
                <i class="fas fa-map-marker-alt"></i> Chicago, IL
              </div>
              <button class="view-btn">View Details</button>
            </div>
          </div>

          <!-- Property 3 -->
          <div class="property-card">
            <div class="property-image">
              <img
                src="https://images.unsplash.com/photo-1502005229762-cf1b2da7c5d6?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3"
                alt="Modern Loft Space"
              />
              <button class="favorite-btn"><i class="far fa-heart"></i></button>
            </div>
            <div class="property-details">
              <h3>Modern Loft Space</h3>
              <div class="property-price">$625,000</div>
              <div class="property-meta">
                <span><i class="fas fa-bed"></i> 2 Beds</span>
                <span><i class="fas fa-bath"></i> 2 Baths</span>
                <span><i class="fas fa-ruler-combined"></i> 1,450 sqft</span>
              </div>
              <div class="property-location">
                <i class="fas fa-map-marker-alt"></i> Seattle, WA
              </div>
              <button class="view-btn">View Details</button>
            </div>
          </div>
        </div>
      </section>

      <!-- Seller's Top Choice Section -->
      <section class="property-section">
        <h2 class="section-title">Seller's Top Choice</h2>
        <p class="section-subtitle">
          Properties with the best selling potential
        </p>

        <div class="property-grid">
          <!-- Property 1 -->
          <div class="property-card">
            <div class="property-image">
              <img
                src="https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3"
                alt="Renovated Townhouse"
              />
              <button class="favorite-btn"><i class="far fa-heart"></i></button>
              <div class="property-badge">Fast Selling</div>
            </div>
            <div class="property-details">
              <h3>Renovated Townhouse</h3>
              <div class="property-price">$495,000</div>
              <div class="property-meta">
                <span><i class="fas fa-bed"></i> 3 Beds</span>
                <span><i class="fas fa-bath"></i> 2 Baths</span>
                <span><i class="fas fa-ruler-combined"></i> 1,650 sqft</span>
              </div>
              <div class="property-location">
                <i class="fas fa-map-marker-alt"></i> Denver, CO
              </div>
              <button class="view-btn">View Details</button>
            </div>
          </div>

          <!-- Property 2 -->
          <div class="property-card">
            <div class="property-image">
              <img
                src="https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3"
                alt="Suburban Family Home"
              />
              <button class="favorite-btn active">
                <i class="fas fa-heart"></i>
              </button>
              <div class="property-badge">High Demand</div>
            </div>
            <div class="property-details">
              <h3>Suburban Family Home</h3>
              <div class="property-price">$725,000</div>
              <div class="property-meta">
                <span><i class="fas fa-bed"></i> 4 Beds</span>
                <span><i class="fas fa-bath"></i> 3 Baths</span>
                <span><i class="fas fa-ruler-combined"></i> 2,200 sqft</span>
              </div>
              <div class="property-location">
                <i class="fas fa-map-marker-alt"></i> Atlanta, GA
              </div>
              <button class="view-btn">View Details</button>
            </div>
          </div>

          <!-- Property 3 -->
          <div class="property-card">
            <div class="property-image">
              <img
                src="https://images.unsplash.com/photo-1600607687920-4e2a09cf159d?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3"
                alt="Luxury Condo"
              />
              <button class="favorite-btn"><i class="far fa-heart"></i></button>
            </div>
            <div class="property-details">
              <h3>Luxury Condo</h3>
              <div class="property-price">$1,150,000</div>
              <div class="property-meta">
                <span><i class="fas fa-bed"></i> 2 Beds</span>
                <span><i class="fas fa-bath"></i> 2.5 Baths</span>
                <span><i class="fas fa-ruler-combined"></i> 1,850 sqft</span>
              </div>
              <div class="property-location">
                <i class="fas fa-map-marker-alt"></i> San Francisco, CA
              </div>
              <button class="view-btn">View Details</button>
            </div>
          </div>
        </div>
      </section>

      <!-- Buyer's Top Choice Section -->
      <section class="property-section">
        <h2 class="section-title">Buyer's Top Choice</h2>
        <p class="section-subtitle">Most viewed properties by buyers</p>

        <div class="property-grid">
          <!-- Property 1 -->
          <div class="property-card">
            <div class="property-image">
              <img
                src="https://images.unsplash.com/photo-1605146769289-440113cc3d00?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3"
                alt="Starter Family Home"
              />
              <button class="favorite-btn active">
                <i class="fas fa-heart"></i>
              </button>
              <div class="property-badge">Popular</div>
            </div>
            <div class="property-details">
              <h3>Starter Family Home</h3>
              <div class="property-price">$385,000</div>
              <div class="property-meta">
                <span><i class="fas fa-bed"></i> 3 Beds</span>
                <span><i class="fas fa-bath"></i> 2 Baths</span>
                <span><i class="fas fa-ruler-combined"></i> 1,500 sqft</span>
              </div>
              <div class="property-location">
                <i class="fas fa-map-marker-alt"></i> Portland, OR
              </div>
              <button class="view-btn">View Details</button>
            </div>
          </div>

          <!-- Property 2 -->
          <div class="property-card">
            <div class="property-image">
              <img
                src="https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3"
                alt="Modern Apartment"
              />
              <button class="favorite-btn"><i class="far fa-heart"></i></button>
              <div class="property-badge">Great Value</div>
            </div>
            <div class="property-details">
              <h3>Modern Apartment</h3>
              <div class="property-price">$295,000</div>
              <div class="property-meta">
                <span><i class="fas fa-bed"></i> 2 Beds</span>
                <span><i class="fas fa-bath"></i> 1.5 Baths</span>
                <span><i class="fas fa-ruler-combined"></i> 1,100 sqft</span>
              </div>
              <div class="property-location">
                <i class="fas fa-map-marker-alt"></i> Austin, TX
              </div>
              <button class="view-btn">View Details</button>
            </div>
          </div>

          <!-- Property 3 -->
          <div class="property-card">
            <div class="property-image">
              <img
                src="https://images.unsplash.com/photo-1600566752355-35792bedcfea?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3"
                alt="Countryside Retreat"
              />
              <button class="favorite-btn"><i class="far fa-heart"></i></button>
              <div class="property-badge">New Listing</div>
            </div>
            <div class="property-details">
              <h3>Countryside Retreat</h3>
              <div class="property-price">$550,000</div>
              <div class="property-meta">
                <span><i class="fas fa-bed"></i> 4 Beds</span>
                <span><i class="fas fa-bath"></i> 3 Baths</span>
                <span><i class="fas fa-ruler-combined"></i> 2,800 sqft</span>
              </div>
              <div class="property-location">
                <i class="fas fa-map-marker-alt"></i> Asheville, NC
              </div>
              <button class="view-btn">View Details</button>
            </div>
          </div>
        </div>
      </section>

      <!-- Footer -->
      <footer>
        <div class="footer-content">
          <div class="footer-logo">RealEstate AI</div>
          <p>Intelligent solutions for modern real estate needs</p>

          <div class="footer-links">
            <a href="index.html">Home</a>
            <a href="properties.html">Properties</a>
            <a href="about.html">About Us</a>
            <a href="contact.html">Contact</a>
            <a href="terms.html">Terms</a>
            <a href="privacy.html">Privacy</a>
          </div>

          <div class="copyright">
            &copy; 2025 Real Estate AI. All rights reserved.
          </div>
        </div>
      </footer>
    </div>

    <script>
      // Consolidated variable declarations
      const searchBtn =
        document.getElementById("searchBtn") ||
        document.querySelector(".search-btn");
      const searchInput =
        document.getElementById("searchInput") ||
        document.querySelector(".search-box input");
      const resultsContainer = document.getElementById(
        "searchResultsContainer"
      );
      const resultsElement = document.getElementById("searchResults");
      const premiumOffer = document.getElementById("premiumOffer");
      const showMoreBtn = document.getElementById("showMoreResults");
      const closeResultsBtn = document.getElementById("closeResults");
      let currentOffset = 0;
      const resultsPerLoad = 2;

      // Main search function
      async function performSearch() {
        const query = searchInput.value.trim();
        if (!query) return;

        try {
          currentOffset = 0; // Reset offset for new search
          const response = await fetch(
            `search.php?q=${encodeURIComponent(query)}`
          );

          // Enhanced error handling
          if (!response.ok) {
            const errorText = await response.text();
            try {
              const errorData = JSON.parse(errorText);
              throw new Error(errorData.error || "Search failed");
            } catch {
              throw new Error(
                `HTTP ${response.status}: ${errorText || "Search failed"}`
              );
            }
          }

          const response_data = await response.json();
          console.log("Search results:", response_data);

          if (!response_data.success)
            throw new Error(response_data.error || "Search failed");

          const results = response_data.data || [];
          displayResults(results.slice(0, 3), false); // Display only the first 3 results
          currentOffset = results.length;

          // Show premium offer if less than 3 results
          if (premiumOffer) {
            premiumOffer.style.display = results.length < 3 ? "block" : "none"; // Show the button if fewer than 3 results
          }
        } catch (error) {
          console.error("Search failed:", error);
          alert(`Search error: ${error.message}`);
        }
      }

      // Results display handler
      function displayResults(results, append = false) {
        if (!resultsElement || !resultsContainer) return;

        // Clear container for initial search
        if (!append) {
          resultsElement.innerHTML = "";
          resultsContainer.style.display = "block";
        }

        // Handle no results
        if (results.length === 0) {
          if (!append) {
            resultsElement.innerHTML =
              '<p style="text-align:center;padding:20px;">No properties found. Try different keywords.</p>';
            if (premiumOffer) premiumOffer.style.display = "block"; // Show premium offer if no results
          }
          return;
        }

        // Build HTML efficiently
        const fragment = document.createDocumentFragment();
        results.forEach((property) => {
          const card = document.createElement("div");
          card.className = "property-card mini-card";

          // Use the image_url from the API response
          const imageSrc = property.image_url || "images/placeholder.jpg";
          const imageAlt = property.title || "Property";

          card.innerHTML = `
        <img src="${imageSrc}" alt="${imageAlt}">
        <div class="mini-details">
          <h4>${property.title || "No Title"}</h4>
          <p>$${(property.price || 0).toLocaleString()}</p>
          <p>${property.bedrooms || 0} beds, ${
            property.bathrooms || 0
          } baths</p>
          <p>${property.city || ""}, ${property.state || ""}</p>
        </div>
      `;
          fragment.appendChild(card);
        });
        resultsElement.appendChild(fragment);
      }

      // Show more results handler
      async function loadMoreResults() {
        const query = searchInput.value.trim();
        if (!query) return;

        try {
          const response = await fetch(
            `search.php?q=${encodeURIComponent(
              query
            )}&offset=${currentOffset}&limit=${resultsPerLoad}`
          );

          if (!response.ok) throw new Error(`HTTP ${response.status}`);
          const response_data = await response.json();

          if (!response_data.success)
            throw new Error(response_data.error || "Load more failed");

          const newResults = response_data.data || [];

          if (newResults.length > 0) {
            displayResults(newResults, true); // Append new results
            currentOffset += newResults.length;
          }

          // Handle end of results
          if (newResults.length < resultsPerLoad) {
            if (premiumOffer) premiumOffer.style.display = "block"; // Show premium offer if fewer results
            if (showMoreBtn) showMoreBtn.style.display = "none"; // Hide "Show More" button
          }
        } catch (error) {
          console.error("Load more error:", error);
          alert("Failed to load more results");
        }
      }

      // Event Listeners
      if (searchBtn) searchBtn.addEventListener("click", performSearch);
      if (searchInput) {
        searchInput.addEventListener("keyup", (e) => {
          if (e.key === "Enter") performSearch();
        });
      }

      if (showMoreBtn) showMoreBtn.addEventListener("click", loadMoreResults);

      if (closeResultsBtn) {
        closeResultsBtn.addEventListener("click", () => {
          if (resultsContainer) resultsContainer.style.display = "none";
        });
      }

      // Premium Modal
      const premiumBtn = document.querySelector(".premium-btn");
      if (premiumBtn) {
        premiumBtn.addEventListener("click", () => {
          const modal = document.getElementById("premiumModal");
          if (modal) modal.style.display = "flex";
        });
      }

      const closeModalBtn = document.querySelector(".close-modal");
      if (closeModalBtn) {
        closeModalBtn.addEventListener("click", () => {
          const modal = document.getElementById("premiumModal");
          if (modal) modal.style.display = "none";
        });
      }

      // Favorite buttons
      document.querySelectorAll(".favorite-btn").forEach((button) => {
        button.addEventListener("click", function (e) {
          e.stopPropagation();
          const icon = this.querySelector("i");
          if (!icon) return;

          const isActive = icon.classList.contains("fas");
          icon.classList.toggle("fas", !isActive);
          icon.classList.toggle("far", isActive);
          this.classList.toggle("active", !isActive);

          // Database simulation
          const propertyTitle =
            this.closest(".property-card")?.querySelector("h3")?.textContent;
          console.log(
            `${isActive ? "Removed from" : "Added to"} favorites: ${
              propertyTitle || ""
            }`
          );
        });
      });

      // View buttons and card clicks
      function handlePropertyClick() {
        const propertyTitle = this.querySelector("h3")?.textContent;
        if (propertyTitle) alert(`Viewing details for: ${propertyTitle}`);
      }

      document.querySelectorAll(".view-btn").forEach((button) => {
        button.addEventListener("click", function (e) {
          e.stopPropagation();
          const card = this.closest(".property-card");
          if (card) {
            const propertyTitle = card.querySelector("h3")?.textContent;
            if (propertyTitle) alert(`Viewing details for: ${propertyTitle}`);
          }
        });
      });

      document.querySelectorAll(".property-card").forEach((card) => {
        card.addEventListener("click", function (e) {
          if (!e.target.closest("button")) handlePropertyClick.call(this);
        });
      });
    </script>
  </body>
</html>
